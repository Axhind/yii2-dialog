/*!
 * @package   yii2-dialog
 * @author    Kartik Visweswaran <kartikv2@gmail.com>
 * @copyright Copyright &copy; Kartik Visweswaran, Krajee.com, 2014 - 2017
 * @version   1.0.2
 *
 * Provides a polyfill for javascript native alert, confirm, and prompt boxes. The BootstrapDialog will be used if
 * available or needed, else the javascript native dialogs will be rendered.
 *
 * Author: Kartik Visweswaran
 * Copyright: 2015, Kartik Visweswaran, Krajee.com
 * For more JQuery plugins visit http://plugins.krajee.com
 * For more Yii related demos visit http://demos.krajee.com
 */var KrajeeDialog;!function(){"use strict";var o,t;o=function(o,t){try{return window[o](t)}catch(a){return"confirm"===o?!0:null}},t=function(o){return o&&0!==o.length?o:{}},KrajeeDialog=function(o,a,n){var i=this;n=n||{},i.useBsDialog=o,i.options=t(a),i.defaults=t(n)},KrajeeDialog.prototype={constructor:KrajeeDialog,usePlugin:function(){return this.useBsDialog&&!!window.BootstrapDialog},getOpts:function(o){var t=this;return window.jQuery.extend({},t.defaults[o],t.options[o])},_dialog:function(t,a,n){var i,e,l=this;if("function"!=typeof n)throw"Invalid callback passed for KrajeeDialog."+t;return l.usePlugin()?"prompt"===t?void l.bdPrompt(a,n):(i=l.getOpts(t),i.message=a,void("confirm"===t?(i.callback=n,window.BootstrapDialog.confirm(i)):window.BootstrapDialog.show(i))):(e=o(t,a),void(e&&n(e)))},alert:function(o,t){var a=this,n=a.getOpts("alert");a.usePlugin()?(n.message=o,n.callback=t,window.BootstrapDialog.alert(n)):window.alert(o)},confirm:function(o,t){this._dialog("confirm",o,t)},prompt:function(o,t){this._dialog("prompt",o,t)},dialog:function(o,t){this._dialog("dialog",o,t)},bdPrompt:function(o,t){var a,n,i,e,l,r=this,s="",c=r.getOpts("prompt"),u="";for(a=function(o){var a,n=o.getModalBody();a=n.find("input")[0].value||"",t(a),o.close()},n=function(o){o.close(),t(null)},i=[{id:"btn-cancel",label:"Cancel",cssClass:"btn btn-default",action:n},{id:"btn-ok",label:"Ok",cssClass:"btn btn-primary",action:a}],e=c.buttons||[],"object"==typeof o?(void 0!==o.label&&(s='<label for="krajee-dialog-prompt" class="control-label">'+o.label+"</label>"),void 0!==o.placeholder&&(u=' placeholder="'+o.placeholder+'"'),s+='<input type="text" name="krajee-dialog-prompt" class="form-control"'+u+">"):s=o,c.message=s,l=0;l<i.length;l++)e[l]=window.jQuery.extend(!0,{},i[l],e[l]);c.buttons=e,window.BootstrapDialog.show(c)}}}();